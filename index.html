<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>The Ceo Building</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Login Screen -->
  <div id="login-screen">
    <div id="login-hero">
      <img src="Logo-removebg-preview.png" alt="Logo">
      <div>
        <div class="login-title">Web Invoice The Ceo</div>
      </div>
      <div class="login-desc">
        Selamat datang di <a href="#">Website Invoice The Ceo</a>.<br/>
        Silakan login menggunakan akun Ceo Anda.
      </div>
      <button id="googleLoginBtn" class="google-btn">
        <span class="google-icon">
          <!-- Google G icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48">
            <path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303C33.602 32.091 29.197 35 24 35c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.158 7.957 3.043l5.657-5.657C33.64 5.053 29.04 3 24 3 12.955 3 4 11.955 4 23s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.651-.389-3.917z"/>
            <path fill="#FF3D00" d="M6.306 14.691l6.571 4.819C14.424 16.104 18.83 13 24 13c3.059 0 5.842 1.158 7.957 3.043l5.657-5.657C33.64 5.053 29.04 3 24 3 16.318 3 9.656 7.337 6.306 14.691z"/>
            <path fill="#4CAF50" d="M24 43c5.137 0 9.789-1.97 13.293-5.175l-6.147-5.2C29.06 34.692 26.651 35 24 35c-5.176 0-9.593-2.893-11.292-7.027l-6.55 5.047C9.474 39.556 16.227 43 24 43z"/>
            <path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303c-1.018 2.902-3.157 5.132-5.86 6.542.001-.001 6.147 5.2 6.147 5.2C38.632 36.846 44 31 44 23c0-1.341-.138-2.651-.389-3.917z"/>
          </svg>
        </span>
        Login dengan Akun CEO
      </button>
      <div id="login-error"></div>
    </div>
    <!-- Fallback username/password (hidden but kept for future use) -->
   
    <div class="muted-foot">Â© Gap Project</div>
  </div>

  <div class="container hidden" id="app-container">
    <div class="header">
      <img src="Logo-removebg-preview.png" alt="Logo" class="logo">
      <h2>The Ceo Building</h2>
    </div>
    
    <!-- Navigation Tabs -->
    <div class="tabs">
      <button class="tab-button active" onclick="showTab('send-message')">Kirim Pesan</button>
      <button class="tab-button" onclick="showTab('manage-tenants')">Kelola Tenant</button>
      <button class="tab-button" onclick="showTab('invoice-list')">Daftar Invoice</button>
    </div>
    
    <!-- Send Message Tab -->
    <div id="send-message" class="tab-content active">
      <h3>Kirim Pesan WhatsApp</h3>
      <form id="tenantForm">
        <label for="lantai">Lantai:</label>
        <select id="lantai">
          <option value="">-- Pilih Lantai --</option>
        </select>
        
        <label for="tenantSelect">Tenant:</label>
        <select id="tenantSelect">
          <option value="">-- Pilih Tenant --</option>
        </select>
        
        
        <label for="fileInput">Upload File:</label>
        <input type="file" id="fileInput" name="file" accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.txt" multiple />

        <label for="dueDate">Jatuh Tempo (Due Date):</label>
        <input type="date" id="dueDate" required />
        <textarea id="reminderTemplate" rows="4" placeholder="Teks pengingat..." style="width:100%;display:none;">Halo sobat tenant The Ceo Building,
Jangan lupa untuk membayar invoice overtime dan isi pollingnya ya, terima kasih 
---
Pesan Ini Adalah Bot Otomatis Dari The Ceo Building.</textarea>
        
        <button type="submit" id="submitBtn">Kirim Pesan</button>
      </form>
    </div>

    <div class="header-actions">
      <button id="logoutBtn" class="logout-btn">Keluar</button>
    </div>
    
    <!-- Manage Tenants Tab -->
    <div id="manage-tenants" class="tab-content">
      <h3>Kelola Data Tenant</h3>
      
      <!-- Add Tenant Form -->
      <div class="add-tenant-form">
        <h4>Tambah Tenant Baru</h4>
        <form id="addTenantForm">
          <div class="form-row">
            <div class="form-group">
              <label for="newFloor">Lantai:</label>
              <input type="number" id="newFloor" min="1" max="50" required>
            </div>
            <div class="form-group">
              <label for="newTenantName">Nama Tenant:</label>
              <input type="text" id="newTenantName" required>
            </div>
            <div class="form-group">
              <label for="newPhoneNumber">Nomor WhatsApp:</label>
              <input type="text" id="newPhoneNumber" placeholder="628xxxxxxxxx" required>
            </div>
            <div class="form-group">
              <button type="submit" class="btn-add">Tambah</button>
            </div>
          </div>
        </form>
      </div>
      
      <!-- Tenant List -->
      <div class="tenant-list">
        <h4>Daftar Tenant</h4>
        <div id="tenantList"></div>
      </div>
    </div>
    
    <!-- Invoice List Tab -->
    <div id="invoice-list" class="tab-content">
      <h3>Daftar Invoice</h3>
      
      <!-- Filter Section -->
      <div class="invoice-filter-section">
        <div class="filter-row">
          <div class="filter-group">
            <label for="filterStatus">Status:</label>
            <div class="filter-buttons">
              <button class="filter-btn active" onclick="filterInvoices('all')">Semua</button>
              <button class="filter-btn" onclick="filterInvoices('unpaid')">Belum Bayar</button>
              <button class="filter-btn" onclick="filterInvoices('paid')">Sudah Bayar</button>
            </div>
          </div>
        </div>
        
        <div class="filter-row">
          <div class="filter-group">
            <label for="filterFloor">Filter Lantai:</label>
            <select id="filterFloor" onchange="handleFloorFilterChange()">
              <option value="">-- Semua Lantai --</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="filterTenant">Filter Tenant:</label>
            <select id="filterTenant" onchange="applyFilters()">
              <option value="">-- Semua Tenant --</option>
            </select>
          </div>
          
          <div class="filter-group">
            <button class="filter-btn" onclick="loadInvoices()">ðŸ”„ Refresh</button>
          </div>
        </div>
      </div>
      
      <!-- Invoice Count -->
      <div id="invoiceCount" style="margin-bottom: 10px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 6px; color: #555; font-size: 14px; font-weight: bold;">
        Memuat...
      </div>
      
      <!-- Invoice List -->
      <div id="invoiceListContainer" class="invoice-list-container">
        <p style="text-align: center; color: #666; padding: 20px;">Memuat data invoice...</p>
      </div>
    </div>
    
    <div id="status"></div>
  </div>
  
  <!-- Edit Tenant Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeEditModal()">&times;</span>
      <h3>Edit Tenant</h3>
      <form id="editTenantForm">
        <input type="hidden" id="editFloor">
        <input type="hidden" id="editOldName">
        
        <label for="editTenantName">Nama Tenant:</label>
        <input type="text" id="editTenantName" required>
        
        <label for="editPhoneNumber">Nomor WhatsApp:</label>
        <input type="text" id="editPhoneNumber" required>
        
        <div class="modal-actions">
          <button type="button" onclick="closeEditModal()" class="btn-cancel">Batal</button>
          <button type="submit" class="btn-save">Simpan</button>
        </div>
      </form>
    </div>
  </div>
  
  <script src="script.js"></script>
</body>
</html>